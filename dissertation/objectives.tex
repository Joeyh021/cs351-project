\chapter{Objectives}
\label{ch:objectives}

We draw on the prior work of existing hardware, and use Chisel to build an open-source programmable I/O device. PIO as included in the RP2040 and described in Chapter \ref{ch:background} is used as the primary inspiration and reference implementation for the project.

The requirements for the PIO device are outlined below. Requirements are categorised using the keywords \textbf{must}, \textbf{should}, \textbf{could}, to indicate priority.

\begin{itemize}
    \item \textit{\textbf{MUST}} be implemented using Chisel as the primary hardware description language
    \item \textit{\textbf{MUST}} be programmable using a small domain specific language (DSL)
    \item \textit{\textbf{MUST}} be capable of receiving data from input GPIO pins and outputting data to output GPIO pins
    \item \textit{\textbf{SHOULD}} be configurable via a set of control registers accessible from the host system
    \item \textit{\textbf{SHOULD}} contain an interface for streaming data to/from the host system or external memory
    \item \textit{\textbf{SHOULD}} be able to flexible map inputs and outputs to physical device pins
    \item \textit{\textbf{COULD}} be able to run PIO programs originally written for the RP2040
\end{itemize}

Once implementation and verification of the PIO device itself is complete, meeting most or all of the above requirements, it \textit{\textbf{SHOULD}} then be integrated with RISC-V cores using Rocket Chip to create a microcontroller system. The requirements for such system are outlined below in the same fashion.

\begin{itemize}
    \item \textit{\textbf{MUST}} contain at least one CPU core, programmable using the RISC-V instruction set
    \item \textit{\textbf{MUST}} act as a host for the PIO device, controlling initialisation and configuration
    \item \textit{\textbf{SHOULD}} be able to stream input/output data from/to the PIO device
    \item \textit{\textbf{SHOULD}} allow for the PIO device to run independently of any other processing cores
    \item \textit{\textbf{COULD}} be compact and efficient, utilising as little FPGA resources and power as possible
    \item \textit{\textbf{COULD}} integrate PIO using the customisation mechanisms present in Rocket Chip
    \item \textit{\textbf{COULD}} allow for PIO to run while the CPU is in a low-power/sleep state
\end{itemize}

As a third objective, we also evaluate the use of Chisel for building non-trivial logic designs for FPGAs. We evaluate it in the following categories:

\begin{itemize}
    \item PUT THINGS HERE
\end{itemize}

All implementation work targets FPGAs, specifically Xilinx Artix 7 devices as included on the Digilent Nexys A7-100T boards provided by the School of Engineering. This provides us with an ideal platform for rapid prototyping and testing that we are already familiar with.
